extends layout

block content
  .container
    h1(style='font-family: "Arial", sans-serif; color: #333;')= title

    form#ElephantForm(action="/resource/elephants", method="POST", style='background-color: #f2f2f2; padding: 20px; border-radius: 10px;')
      .form-group
        label.elephantAttr(for='elephant_Habitat') Elephant Habitat
        input#elephant_Habitat.form-control(type='text', name='elephant_Habitat', placeholder='Enter Habitat', required)
      
      .form-group
        label.elephantAttr(for='elephant_Weight') Elephant Weight
        input#elephant_Weight.form-control(type='number', name='elephant_Weight', placeholder='Enter Weight', required)
      
      .form-group
        label.elephantAttr(for='elephant_Lifespan') Elephant Lifespan
        input#elephant_Lifespan.form-control(type='text', name='elephant_Lifespan', placeholder='Enter Lifespan', required)
      
      .form-group
        label.elephantAttr(for='elephant_TuskLength') Elephant Tusk Length
        input#elephant_TuskLength.form-control(type='number', name='elephant_TuskLength', placeholder='Enter Tusk Length', required)
      
      .form-group
        input.btn.btn-primary(type="submit", value="Submit")
      
    script.
      document.getElementById('ElephantForm').addEventListener('submit', (event) => {
        event.preventDefault();
        // TODO: Show user that the form is being submitted
        
        fetch(event.target.action, {
          method: 'POST',
          body: new URLSearchParams(new FormData(event.target)) // event.target is the form
        }).then((resp) => {
          return resp.json(); // or resp.text() or whatever the server sends
        }).then((body) => {
          alert("Save succeeded");
          // TODO: Handle response body
        }).catch((error) => {
          // TODO: Handle error
          alert("Save failed " + error);
        });
      });
